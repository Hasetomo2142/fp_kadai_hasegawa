create_table :clients, charset: 'utf8mb4' do |t|
  t.string :name, null: false, limit: 50
  t.string :email, default: '', null: false, index: { unique: true }, limit: 255
  t.string :encrypted_password, default: '', null: false
  t.string :reset_password_token, index: { unique: true }
  t.datetime :reset_password_sent_at
  t.datetime :remember_created_at
  t.timestamps null: false
end

create_table :meetings, charset: 'utf8mb4' do |t|
  t.bigint :client_id
  t.bigint :planner_id, null: false
  t.datetime :start_time
  t.datetime :end_time
  t.timestamps null: false
  t.index [:client_id], name: 'index_meetings_on_client_id'
  t.index [:planner_id], name: 'index_meetings_on_planner_id'
  t.index [:client_id, :start_time], name: 'index_meetings_on_client_id_and_start_time'
  t.index [:planner_id, :start_time], name: 'index_meetings_on_planner_id_and_start_time'
end

create_table :planners, charset: 'utf8mb4' do |t|
  t.string :name, null: false, limit: 50
  t.string :email, default: '', null: false, index: { unique: true }, limit: 255
  t.string :description, null: false, limit: 255
  t.string :encrypted_password, default: '', null: false
  t.string :reset_password_token, index: { unique: true }
  t.datetime :reset_password_sent_at
  t.datetime :remember_created_at
  t.timestamps null: false
end

add_foreign_key :meetings, :clients
add_foreign_key :meetings, :planners

